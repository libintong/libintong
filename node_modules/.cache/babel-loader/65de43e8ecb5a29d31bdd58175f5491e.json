{"ast":null,"code":"var _jsxFileName = \"/Users/heytea/lbt-music/src/components/playbar/index.js\";\nimport React, { Component } from \"react\";\nimport '../../statics/style/playbar.css'; // import store from '../../store';\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass PlayBar extends Component {\n  constructor(props) {\n    super(props);\n\n    this.formatDuration = value => {\n      const time = value / 1000;\n      const min = Math.floor(time / 60);\n      min.toString().padStart(2, '0');\n      const sec = Math.floor(time % 60);\n      sec.toString().padStart(2, '0');\n      return `${min}:${sec}`;\n    };\n\n    this.nextSong = () => {};\n\n    this.preSong = () => {};\n\n    this.onPauseMusicClick = () => {\n      this.setState({\n        playStatus: false\n      });\n      console.log('ref', this.audio);\n      this.audio.current.pause();\n    };\n\n    this.onPlayMusicClick = () => {\n      this.setState({\n        playStatus: true\n      });\n      this.audio.current.play();\n    };\n\n    this.audio = /*#__PURE__*/React.createRef();\n  }\n\n  componentDidMount() {\n    this.audio.current.onended = () => {\n      this.nextSong();\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"playbar\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"playbar-audio\",\n        children: /*#__PURE__*/_jsxDEV(\"audio\", {\n          id: \"mp3btn\",\n          ref: this.audio,\n          src: this.props.mp3Url // style={{visibility: \"hidden\"}}\n\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"playbar-img\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: this.props.currentSongItem.imageUrl\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"playbar-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: this.props.currentSongItem.artistName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: this.props.currentSongItem.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"playbar-progress\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"00:00\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"progress\", {\n          max: this.formatDuration(this.props.currentSongItem.duration),\n          value: 'currentTime'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: this.formatDuration(this.props.currentSongItem.duration)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"playbar-btn\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"iconfont icon-shangyige\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 21\n        }, this), this.state.playStatus ? /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"iconfont icon-zanting\",\n          onClick: this.onPauseMusicClick\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 31\n        }, this) : /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"iconfont icon-bofang\",\n          onClick: this.onPlayMusicClick\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 31\n        }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"iconfont icon-xiayige\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"playbar-lyrics\",\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"iconfont icon-geci\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default PlayBar;","map":{"version":3,"sources":["/Users/heytea/lbt-music/src/components/playbar/index.js"],"names":["React","Component","PlayBar","constructor","props","formatDuration","value","time","min","Math","floor","toString","padStart","sec","nextSong","preSong","onPauseMusicClick","setState","playStatus","console","log","audio","current","pause","onPlayMusicClick","play","createRef","componentDidMount","onended","render","mp3Url","currentSongItem","imageUrl","artistName","name","duration","state"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\nimport '../../statics/style/playbar.css';\n// import store from '../../store';\n\nclass PlayBar extends Component {\n    constructor(props) {\n        super(props);\n        this.audio = React.createRef()\n    }\n\n    formatDuration = (value) => {\n        const time = value/1000\n        const min = Math.floor(time / 60)\n        min.toString().padStart(2, '0')\n        const sec = Math.floor(time % 60)\n        sec.toString().padStart(2, '0')\n        return `${min}:${sec}`\n    }\n\n    componentDidMount() {\n        this.audio.current.onended = () => {\n            this.nextSong()\n        }\n    }\n\n    nextSong = () => {\n\n    }\n\n    preSong = () => {\n\n    }\n\n\n    onPauseMusicClick = () => {\n        this.setState({\n            playStatus: false\n        })\n        console.log('ref', this.audio)\n        this.audio.current.pause()\n    }\n\n    onPlayMusicClick = () => {\n        this.setState({\n            playStatus: true\n        })\n        this.audio.current.play()\n    }\n\n    render() {\n\n        return (\n            <div className=\"playbar\">\n                <div className=\"playbar-audio\">\n                    <audio\n                        id=\"mp3btn\"\n                        ref={this.audio}\n                        src={this.props.mp3Url}\n                        // style={{visibility: \"hidden\"}}\n                    >\n                    </audio>\n                </div>\n                <div className=\"playbar-img\">\n                    <img src={this.props.currentSongItem.imageUrl}/>\n                </div>\n                <div className=\"playbar-info\">\n                    <span>{this.props.currentSongItem.artistName}</span>\n                    <p>{this.props.currentSongItem.name}</p>\n                </div>\n                <div className=\"playbar-progress\">\n                    <label>00:00</label>\n                    <progress max={this.formatDuration(this.props.currentSongItem.duration)}\n                              value={'currentTime'}></progress>\n                    <label>{this.formatDuration(this.props.currentSongItem.duration)}</label>\n                </div>\n                <div className=\"playbar-btn\">\n                    <i className=\"iconfont icon-shangyige\"></i>\n                    {\n                        this.state.playStatus\n                            ? <i\n                                className=\"iconfont icon-zanting\"\n                                onClick={this.onPauseMusicClick}\n                            ></i>\n                            : <i\n                                className=\"iconfont icon-bofang\"\n                                onClick={this.onPlayMusicClick}\n                            ></i>\n                    }\n                    <i className=\"iconfont icon-xiayige\"></i>\n                </div>\n                <div className=\"playbar-lyrics\">\n                    <i className=\"iconfont icon-geci\"></i>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default PlayBar;"]},"metadata":{},"sourceType":"module"}